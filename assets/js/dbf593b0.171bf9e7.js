"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[954],{3905:(e,n,a)=>{a.d(n,{Zo:()=>c,kt:()=>b});var l=a(7294);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function s(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,l)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?s(Object(a),!0).forEach((function(n){t(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function i(e,n){if(null==e)return{};var a,l,t=function(e,n){if(null==e)return{};var a,l,t={},s=Object.keys(e);for(l=0;l<s.length;l++)a=s[l],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)a=s[l],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var r=l.createContext({}),p=function(e){var n=l.useContext(r),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},c=function(e){var n=p(e.components);return l.createElement(r.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},u=l.forwardRef((function(e,n){var a=e.components,t=e.mdxType,s=e.originalType,r=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(a),u=t,b=d["".concat(r,".").concat(u)]||d[u]||m[u]||s;return a?l.createElement(b,o(o({ref:n},c),{},{components:a})):l.createElement(b,o({ref:n},c))}));function b(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var s=a.length,o=new Array(s);o[0]=u;var i={};for(var r in n)hasOwnProperty.call(n,r)&&(i[r]=n[r]);i.originalType=e,i[d]="string"==typeof e?e:t,o[1]=i;for(var p=2;p<s;p++)o[p]=a[p];return l.createElement.apply(null,o)}return l.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2064:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var l=a(7462),t=(a(7294),a(3905));const s={sidebar_position:1},o="Ansible",i={unversionedId:"Configuration-as-Code/ansible",id:"Configuration-as-Code/ansible",title:"Ansible",description:"Ansible \u2014 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u043c\u0438, \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043d\u0430 \u044f\u0437\u044b\u043a\u0435",source:"@site/docs/Configuration-as-Code/ansible.md",sourceDirName:"Configuration-as-Code",slug:"/Configuration-as-Code/ansible",permalink:"/DevOps_Docs/Configuration-as-Code/ansible",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Configuration-as-Code",permalink:"/DevOps_Docs/Configuration-as-Code/basics"},next:{title:"Jinja",permalink:"/DevOps_Docs/jinja/basics"}},r={},p=[{value:"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 Ansible",id:"\u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430-ansible",level:2},{value:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 Ansible",id:"\u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438-ansible",level:2},{value:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",level:2},{value:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430 \u0438 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b",id:"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430-\u0438-\u0446\u0435\u043b\u0435\u0432\u043e\u0439-\u0441\u0438\u0441\u0442\u0435\u043c\u044b",level:2},{value:"\u0417\u0430\u043f\u0443\u0441\u043a tasks",id:"\u0437\u0430\u043f\u0443\u0441\u043a-tasks",level:2},{value:"Inventory",id:"inventory",level:2},{value:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043b\u0438\u0430\u0441\u043e\u0432",id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u0430\u043b\u0438\u0430\u0441\u043e\u0432",level:3},{value:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c \u043d\u0430 Linux \u0438 Windows",id:"\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u043a-\u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c-\u043d\u0430-linux-\u0438-windows",level:3},{value:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432",id:"\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430-\u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432",level:3},{value:"\u0415\u0449\u0435 \u043e\u0434\u0438\u043d \u043f\u0440\u0438\u043c\u0435\u0440",id:"\u0435\u0449\u0435-\u043e\u0434\u0438\u043d-\u043f\u0440\u0438\u043c\u0435\u0440",level:3},{value:"Playbooks",id:"playbooks",level:2},{value:"\u0417\u0430\u043f\u0443\u0441\u043a playbooks",id:"\u0437\u0430\u043f\u0443\u0441\u043a-playbooks",level:3},{value:"\u0417\u0430\u043f\u0443\u0441\u043a playbooks \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0442\u043b\u0430\u0434\u043a\u0438",id:"\u0437\u0430\u043f\u0443\u0441\u043a-playbooks-\u0432-\u0440\u0435\u0436\u0438\u043c\u0435-\u043e\u0442\u043b\u0430\u0434\u043a\u0438",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440 1",id:"\u043f\u0440\u0438\u043c\u0435\u0440-1",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440 2",id:"\u043f\u0440\u0438\u043c\u0435\u0440-2",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440 3",id:"\u043f\u0440\u0438\u043c\u0435\u0440-3",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440 4",id:"\u043f\u0440\u0438\u043c\u0435\u0440-4",level:3},{value:"Modules",id:"modules",level:2},{value:"System",id:"system",level:3},{value:"Command",id:"command",level:3},{value:"Scripts",id:"scripts",level:3},{value:"Files",id:"files",level:3},{value:"Database",id:"database",level:3},{value:"Cloud",id:"cloud",level:3},{value:"Windows",id:"windows",level:3},{value:"Service",id:"service",level:3},{value:"lineinfile",id:"lineinfile",level:3},{value:"User",id:"user",level:3},{value:"Variables",id:"variables",level:2},{value:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438\u0437 inventory",id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0438\u0437-inventory",level:3},{value:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0432 playbook",id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0432-playbook",level:3},{value:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u0430\u0439\u043b",id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0447\u0435\u0440\u0435\u0437-\u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439-\u0444\u0430\u0439\u043b",level:3},{value:"\u041c\u0435\u0445\u0430\u043d\u0438\u043a\u0430 Ansible",id:"\u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0430-ansible",level:2},{value:"Conditionals",id:"conditionals",level:3},{value:"When",id:"when",level:4},{value:"Loops",id:"loops",level:4}],c={toc:p};function d(e){let{components:n,...a}=e;return(0,t.kt)("wrapper",(0,l.Z)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"ansible"},"Ansible"),(0,t.kt)("p",null,"Ansible \u2014 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u043a\u043e\u0434\u043e\u043c \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u043c\u0438, \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043d\u0430 \u044f\u0437\u044b\u043a\u0435\nPython. Ansible \u0431\u0435\u0440\u0435\u0442 \u043d\u0430 \u0441\u0435\u0431\u044f \u0432\u0441\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u044e \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c ssh \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043b\u0438\u0448\u044c \u043e\u043f\u0438\u0441\u0430\u0442\u044c, \u043a\u0430\u043a \u0434\u043e\u0441\u0442\u0438\u0447\u044c \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 playbooks, \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 yaml."),(0,t.kt)("p",null,"\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Ansible \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0448\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0421\u041f\u041e."),(0,t.kt)("li",{parentName:"ul"},"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0421\u041f\u041e."),(0,t.kt)("li",{parentName:"ul"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."),(0,t.kt)("li",{parentName:"ul"},"\u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043e\u043b\u0435\u0439/\u043a\u043b\u044e\u0447\u0435\u0439 \u0432 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435 (Ansible Vault)."),(0,t.kt)("li",{parentName:"ul"},"\u0420\u0430\u0437\u0432\u0435\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u041f\u041f\u041e."),(0,t.kt)("li",{parentName:"ul"},"\u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0430\u0432\u0442\u043e-\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445."),(0,t.kt)("li",{parentName:"ul"},"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u043e\u0432/\u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d.")),(0,t.kt)("h2",{id:"\u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430-ansible"},"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430 Ansible"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u041d\u0438\u0437\u043a\u0438\u0439 \u043f\u043e\u0440\u043e\u0433 \u0432\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f. \u041e\u0431\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 Ansible \u043c\u043e\u0436\u043d\u043e \u0437\u0430 \u043e\u0447\u0435\u043d\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0435 \u0441\u0440\u043e\u043a\u0438."),(0,t.kt)("li",{parentName:"ul"},"\u041d\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0443\u0437\u043b\u044b \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u041f\u041e. \u0412\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 SSH."),(0,t.kt)("li",{parentName:"ul"},"\u041a\u043e\u0434 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u043d\u0430 Python, \u043e\u0447\u0435\u043d\u044c \u043f\u0440\u043e\u0441\u0442. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0435 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043e\u0441\u043e\u0431\u043e\u0433\u043e \u0442\u0440\u0443\u0434\u0430."),(0,t.kt)("li",{parentName:"ul"},"\u0414\u0435\u043a\u043b\u0430\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u044f\u0437\u044b\u043a yaml, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043f\u0438\u0448\u0443\u0442\u0441\u044f \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438, \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0441\u0442."),(0,t.kt)("li",{parentName:"ul"},"\u0412\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0433\u043e \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0447\u0443\u0432\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 (\u043f\u0430\u0440\u043e\u043b\u0438, \u043a\u043b\u044e\u0447\u0438 \u0438 \u0442\u0434) \u2014 Ansible Vault."),(0,t.kt)("li",{parentName:"ul"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438 \u0432\u0435\u0441\u044c\u043c\u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u0430\u044f \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f. \u041e\u043d\u0430 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f. \u0415\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435."),(0,t.kt)("li",{parentName:"ul"},"Ansible \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 push, \u043d\u043e \u0438 pull, \u043a\u0430\u043a \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u044e\u0442 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0441\u0438\u0441\u0442\u0435\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (Puppet, Chef)."),(0,t.kt)("li",{parentName:"ul"},"\u0418\u043c\u0435\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0443\u0437\u043b\u043e\u0432 (rolling update)."),(0,t.kt)("li",{parentName:"ul"},"\u0421\u0430\u043c\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 - \u0440\u043e\u043b\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c\u0438 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435  \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u041f\u041e. \u0423 \u043d\u0430\u0441 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u044d\u0442\u0438 \u043c\u043e\u0434\u0443\u043b\u0438 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c\u0438 \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.")),(0,t.kt)("h2",{id:"\u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438-ansible"},"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0438 Ansible"),(0,t.kt)("p",null,"\u041d\u0435\u043e\u0441\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0443\u0437\u043b\u0430 \u0434\u043e \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u043d\u0435\u043c\u0443, \u0447\u0442\u043e \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u043e\u043b\u0435\u0435 \u0442\u0449\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c playbooks."),(0,t.kt)("h2",{id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 ",(0,t.kt)("a",{parentName:"p",href:"https://docs.fedoraproject.org/en-US/epel/#_quickstart"},"\u043f\u0430\u043a\u0435\u0442\u044b EPEL"),":"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre"},"sudo yum install epel-release\n"))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 dnf:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre"},"yum install dnf\n"))),(0,t.kt)("li",{parentName:"ol"},(0,t.kt)("p",{parentName:"li"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Ansible:"),(0,t.kt)("pre",{parentName:"li"},(0,t.kt)("code",{parentName:"pre"},"sudo dnf install ansible\n")))),(0,t.kt)("h2",{id:"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430-\u0438-\u0446\u0435\u043b\u0435\u0432\u043e\u0439-\u0441\u0438\u0441\u0442\u0435\u043c\u044b"},"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430 \u0438 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ansible target1 -m ping -i inventory\n")),(0,t.kt)("h2",{id:"\u0437\u0430\u043f\u0443\u0441\u043a-tasks"},"\u0417\u0430\u043f\u0443\u0441\u043a tasks"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},'ansible <hosts> -a command\n\nansible all -a "/sbin/reboot"\n')),(0,t.kt)("h2",{id:"inventory"},"Inventory"),(0,t.kt)("p",null,(0,t.kt)("a",{parentName:"p",href:"https://docs.ansible.com/ansible/latest/inventory_guide/intro_inventory.html"},"Inventory")," - \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0446\u0435\u043b\u0435\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d \u0432 \u043f\u0430\u043f\u043a\u0435 ",(0,t.kt)("inlineCode",{parentName:"p"},"/etc/ansible/hosts"),"."),(0,t.kt)("p",null,"\u041f\u0440\u0438\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"mail.example.com\n\n[webservers]\nfoo.example.com\nbar.example.com\n\n[dbservers]\none.example.com\ntwo.example.com\nthree.example.com\n")),(0,t.kt)("h3",{id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u0430\u043b\u0438\u0430\u0441\u043e\u0432"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043b\u0438\u0430\u0441\u043e\u0432"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"app ansible_host=server1.domain.com\ndb  ansible_host=server2.domain.com\n")),(0,t.kt)("h3",{id:"\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435-\u043a-\u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c-\u043d\u0430-linux-\u0438-windows"},"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c \u043d\u0430 Linux \u0438 Windows"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"web1 ansible_host=server1.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\nweb2 ansible_host=server2.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\nweb3 ansible_host=server3.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\ndb1 ansible_host=server4.domain.com ansible_connection=winrm ansible_user=administrator ansible_password=Password123!\n")),(0,t.kt)("h3",{id:"\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430-\u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432"},"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"# Sample Inventory File\n\n# Web Servers\nweb1 ansible_host=server1.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\nweb2 ansible_host=server2.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\nweb3 ansible_host=server3.domain.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Password123!\n\n# Database Servers\ndb1 ansible_host=server4.domain.com ansible_connection=winrm ansible_user=administrator ansible_password=Password123!\n\n\n[web_servers]\nweb1\nweb2\nweb3\n\n[db_servers]\ndb1\n\n[all_servers:children]\nweb_servers\ndb_servers\n")),(0,t.kt)("h3",{id:"\u0435\u0449\u0435-\u043e\u0434\u0438\u043d-\u043f\u0440\u0438\u043c\u0435\u0440"},"\u0415\u0449\u0435 \u043e\u0434\u0438\u043d \u043f\u0440\u0438\u043c\u0435\u0440"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"# Sample Inventory File\n\n# Web Servers\nweb_node1 ansible_host=web01.xyz.com ansible_connection=winrm ansible_user=administrator ansible_password=Win$Pass\nweb_node2 ansible_host=web02.xyz.com ansible_connection=winrm ansible_user=administrator ansible_password=Win$Pass\nweb_node3 ansible_host=web03.xyz.com ansible_connection=winrm ansible_user=administrator ansible_password=Win$Pass\n\n# DB Servers\nsql_db1 ansible_host=sql01.xyz.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Lin$Pass\nsql_db2 ansible_host=sql02.xyz.com ansible_connection=ssh ansible_user=root ansible_ssh_pass=Lin$Pass\n\n# Groups\n[db_nodes]\nsql_db1\nsql_db2\n\n[web_nodes]\nweb_node1\nweb_node2\nweb_node3\n\n[boston_nodes]\nsql_db1\nweb_node1\n\n[dallas_nodes]\nsql_db2\nweb_node2\nweb_node3\n\n[us_nodes:children]\nboston_nodes\ndallas_nodes\n")),(0,t.kt)("h2",{id:"playbooks"},"Playbooks"),(0,t.kt)("p",null,"Playbook \u2014 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 YAML \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a plays."),(0,t.kt)("p",null,"Play \u2014 \u043d\u0430\u0431\u043e\u0440 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u0435 \u0445\u043e\u0441\u0442\u043e\u0432."),(0,t.kt)("p",null,"Task \u2014 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0435, \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e \u0441 \u0445\u043e\u0441\u0442\u043e\u043c."),(0,t.kt)("p",null,"\u041f\u0440\u0438\u043c\u0435\u0440\u044b tasks:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438\u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435"),(0,t.kt)("li",{parentName:"ul"},"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u043a\u0435\u0442 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435"),(0,t.kt)("li",{parentName:"ul"},"\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0438\u043b\u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043c\u0430\u0448\u0438\u043d\u044b")),(0,t.kt)("h3",{id:"\u0437\u0430\u043f\u0443\u0441\u043a-playbooks"},"\u0417\u0430\u043f\u0443\u0441\u043a playbooks"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ansible-playbook <playbook_name>\n\nansible-playbook web-servers.yml\n\nansible-playbook playbook-ping.yml -i inventory\n")),(0,t.kt)("h3",{id:"\u0437\u0430\u043f\u0443\u0441\u043a-playbooks-\u0432-\u0440\u0435\u0436\u0438\u043c\u0435-\u043e\u0442\u043b\u0430\u0434\u043a\u0438"},"\u0417\u0430\u043f\u0443\u0441\u043a playbooks \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0442\u043b\u0430\u0434\u043a\u0438"),(0,t.kt)("p",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e ",(0,t.kt)("inlineCode",{parentName:"p"},"v")," \u0432 \u043a\u043b\u044e\u0447\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443\u0440\u043e\u0432\u043d\u044e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ansible-playbook playbook-ping.yml -i inventory -vv\n")),(0,t.kt)("p",null,"\u0412\u044b\u0432\u043e\u0434:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre"},"ansible-playbook 2.9.27\n  config file = /etc/ansible/ansible.cfg\n  configured module search path = [u'/home/osboxes/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']\n  ansible python module location = /usr/lib/python2.7/site-packages/ansible\n  executable location = /usr/bin/ansible-playbook\n  python version = 2.7.5 (default, Oct 14 2020, 14:45:30) [GCC 4.8.5 20150623 (Red Hat 4.8.5-44)]\nUsing /etc/ansible/ansible.cfg as config file\nSkipping callback 'actionable', as we already have a stdout callback.\nSkipping callback 'counter_enabled', as we already have a stdout callback.\nSkipping callback 'debug', as we already have a stdout callback.\nSkipping callback 'dense', as we already have a stdout callback.\nSkipping callback 'dense', as we already have a stdout callback.\nSkipping callback 'full_skip', as we already have a stdout callback.\nSkipping callback 'json', as we already have a stdout callback.\nSkipping callback 'minimal', as we already have a stdout callback.\nSkipping callback 'null', as we already have a stdout callback.\nSkipping callback 'oneline', as we already have a stdout callback.\nSkipping callback 'selective', as we already have a stdout callback.\nSkipping callback 'skippy', as we already have a stdout callback.\nSkipping callback 'stderr', as we already have a stdout callback.\nSkipping callback 'unixy', as we already have a stdout callback.\nSkipping callback 'yaml', as we already have a stdout callback.\n\nPLAYBOOK: playbook-ping.yml **********************************************************************************************************************************\n1 plays in playbook-ping.yml\n\nPLAY [Test connection to linux targets] **********************************************************************************************************************\n\nTASK [Gathering Facts] ***************************************************************************************************************************************\ntask path: /home/osboxes/project/playbook-ping.yml:2\nok: [target2]\nok: [target1]\nMETA: ran handlers\n\nTASK [Ping test] *********************************************************************************************************************************************\ntask path: /home/osboxes/project/playbook-ping.yml:5\nok: [target1] => {\"changed\": false, \"ping\": \"pong\"}\nok: [target2] => {\"changed\": false, \"ping\": \"pong\"}\nMETA: ran handlers\nMETA: ran handlers\n\nPLAY RECAP ***************************************************************************************************************************************************\ntarget1                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\ntarget2                    : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0\n")),(0,t.kt)("h3",{id:"\u043f\u0440\u0438\u043c\u0435\u0440-1"},"\u041f\u0440\u0438\u043c\u0435\u0440 1"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: Execute a date command on localhost\n    hosts: localhost\n    tasks:\n        -\n            name: 'Execute a date command'\n            command: date\n-\n    name: 'Execute a command to display hosts file on localhost'\n    hosts: localhost\n    tasks:\n        -\n            name: 'Execute a command to display hosts file'\n            command: cat /etc/hosts\n")),(0,t.kt)("h3",{id:"\u043f\u0440\u0438\u043c\u0435\u0440-2"},"\u041f\u0440\u0438\u043c\u0435\u0440 2"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Execute two commands on localhost'\n    hosts: localhost\n    tasks:\n        -\n            name: 'Execute a date command'\n            command: date\n        -\n            name: 'Execute a command to display hosts file'\n            command: cat /etc/hosts\n")),(0,t.kt)("h3",{id:"\u043f\u0440\u0438\u043c\u0435\u0440-3"},"\u041f\u0440\u0438\u043c\u0435\u0440 3"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Stop the web services on web server nodes'\n    hosts: web_nodes\n    tasks:\n        -\n            name: 'Stop the web services on web server nodes'\n            command: 'service httpd stop'\n-\n    name: 'Stop the db services on db nodes'\n    hosts: db_nodes\n    tasks:\n        -\n            name: 'Stop the db services on db nodes'\n            command: 'service mysql stop'\n-\n    name: 'Restart all nodes'\n    hosts: all_nodes\n    tasks:\n        -\n            name: 'Restart all nodes'\n            command: '/sbin/shutdown -r'\n-\n    name: 'Start the db services on db nodes'\n    hosts: db_nodes\n    tasks:\n        -\n            name: 'Start the db services on db nodes'\n            command: 'service mysql start'\n-\n    name: 'Start the web services on web server nodes'\n    hosts: web_nodes\n    tasks:\n        -\n            name: 'Start the web services on web server nodes'\n            command: 'service httpd start'\n")),(0,t.kt)("h3",{id:"\u043f\u0440\u0438\u043c\u0435\u0440-4"},"\u041f\u0440\u0438\u043c\u0435\u0440 4"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"\n-\n  name: Test connection to linux targets\n  hosts: linux\n  tasks:\n    - name: Ping test\n      ping:\n")),(0,t.kt)("h2",{id:"modules"},"Modules"),(0,t.kt)("p",null,(0,t.kt)("a",{parentName:"p",href:"https://docs.ansible.com/ansible/latest/collections/index_module.html"},"Ansible-\u043c\u043e\u0434\u0443\u043b\u0438")," \u0434\u0435\u043b\u044f\u0442\u0441\u044f \u043d\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438."),(0,t.kt)("h3",{id:"system"},"System"),(0,t.kt)("p",null,"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u2014 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u0432 \u0437\u0430\u0434\u0430\u0447\u0430\u0445, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u0438\u0441\u0442\u0435\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0445\u043e\u0441\u0442\u043e\u0432. \u042d\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0432\u0440\u043e\u0434\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f iptables, \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0444\u0430\u0439\u0440\u0432\u043e\u043b\u043b\u0430, \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0442\u043e\u043c\u043e\u0432, \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u043e \u0441\u043b\u0443\u0436\u0431\u0430\u043c\u0438 \u0446\u0435\u043b\u0435\u0432\u044b\u0445 \u043c\u0430\u0448\u0438\u043d. \u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e - \u0437\u0430\u043f\u0443\u0441\u043a, \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043b\u0443\u0436\u0431 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435."),(0,t.kt)("h3",{id:"command"},"Command"),(0,t.kt)("p",null,"\u041a\u043e\u043c\u0430\u043d\u0434\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0438\u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u043d\u0430 \u0445\u043e\u0441\u0442\u0435."),(0,t.kt)("h3",{id:"scripts"},"Scripts"),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("a",{parentName:"p",href:"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/script_module.html"},"script")," \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0441\u043a\u0440\u0438\u043f\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0430 Ansible \u0438 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0443\u0437\u043b\u0430\u0445 \u043f\u043e\u0441\u043b\u0435 \u0435\u0433\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438. \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u043b\u0438 \u0441\u043e\u0442\u043d\u044f\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u043d\u0430\u043c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0432\u0441\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b, Ansible \u043f\u043e\u0437\u0430\u0431\u043e\u0442\u0438\u0442\u0441\u044f \u043e \u0442\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0443\u0437\u0435\u043b \u0438 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0432 \u044d\u0442\u0438\u0445 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u044f script \u0438 \u0443\u043a\u0430\u0436\u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0435 Ansible \u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n  name: Execute a script on all web server nodes\n  hosts: web_nodes\n  tasks:\n    - name: Execute a script on all web server nodes\n      script: /tmp/install_script.sh\n")),(0,t.kt)("h3",{id:"files"},"Files"),(0,t.kt)("p",null,"\u0424\u0430\u0439\u043b\u043e\u0432\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("inlineCode",{parentName:"p"},"ACL")," \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 access-control lists \u0434\u043b\u044f \u0444\u0430\u0439\u043b\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043c\u043e\u0434\u0443\u043b\u0438 ",(0,t.kt)("inlineCode",{parentName:"p"},"archive")," \u0438 ",(0,t.kt)("inlineCode",{parentName:"p"},"unarchive")," \u0434\u043b\u044f \u0441\u0436\u0430\u0442\u0438\u044f \u0438 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043c\u043e\u0434\u0443\u043b\u0438 ",(0,t.kt)("inlineCode",{parentName:"p"},"find"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"lineinfile")," \u0438 ",(0,t.kt)("inlineCode",{parentName:"p"},"replace"),", \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0444\u0430\u0439\u043b\u0430."),(0,t.kt)("h3",{id:"database"},"Database"),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u0438 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0442\u0430\u043a\u0438\u043c\u0438 \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u0430\u043a MongoDB, MySQL, MSSQL \u0438\u043b\u0438 PostgreSQL. \u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u043a\u0430\u043a \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445, \u0442\u0430\u043a \u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0441\u0430\u043c\u0438\u0445 \u0421\u0423\u0411\u0414."),(0,t.kt)("h3",{id:"cloud"},"Cloud"),(0,t.kt)("p",null,"\u0412 \u043e\u0431\u043b\u0430\u0447\u043d\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0435\u0441\u0442\u044c \u043e\u0431\u0448\u0438\u0440\u043d\u0430\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043e\u0431\u043b\u0430\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a Amazon, Azure, Docker, Google, OpenStack \u0438 VMware, \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0430\u043c \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u0431\u043e\u043b\u044c\u0448\u0435."),(0,t.kt)("p",null,"\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0438\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0440\u044f\u0434 \u043c\u043e\u0434\u0443\u043b\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0443\u043d\u0438\u0447\u0442\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u043e\u0432, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0435\u0442\u0438, \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u043a\u043b\u0430\u0443\u0434-\u0432\u0435\u043d\u0434\u043e\u0440\u0430, \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\u043c\u0438, \u0446\u0435\u043d\u0442\u0440\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u043c\u0438, \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0441\u0435\u0442\u044f\u043c\u0438, VSAN \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435."),(0,t.kt)("h3",{id:"windows"},"Windows"),(0,t.kt)("p",null,"\u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u0435\u0441\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u0438 Windows, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Ansible \u0432 \u0441\u0440\u0435\u0434\u0435 Windows. \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445: win_chocolatey \u043d\u0435\u043f\u043b\u043e\u0445\u043e\u0439 \u043f\u0430\u043a\u0435\u0442\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f, win_copy \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432, win_command \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u0441 Windows \u0438 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u0432 Windows, \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 IIS, \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0440\u0435\u0435\u0441\u0442\u0440 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e regedit \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0443\u0436\u0431\u0430\u043c\u0438, \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u0432 Windows."),(0,t.kt)("h3",{id:"service"},"Service"),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("a",{parentName:"p",href:"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/service_module.html"},"service")," \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u0441\u043b\u0443\u0436\u0431 \u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0437\u0430\u043f\u0443\u0441\u043a, \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u042d\u0442\u043e\u0442 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 Ansible \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043b\u0443\u0436\u0431 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043c\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u043b\u0443\u0436\u0431\u0443 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f."),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("inlineCode",{parentName:"p"},"service")," \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0432\u0432\u043e\u0434\u0430 free_form. \u041c\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u0432\u043e\u0434 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043f\u0430\u0440\u044b \u043a\u043b\u044e\u0447-\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 name, \u0447\u0442\u043e\u0431\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043c\u044f \u0441\u043b\u0443\u0436\u0431\u044b, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c, \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 postgresql, \u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 state \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0446\u0435\u043b\u0435\u0432\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u043b\u0443\u0436\u0431\u044b, \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f, \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 started."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Run httpd'\n    hosts: web_nodes\n    tasks:\n        -\n            name: 'Run httpd'\n            service: \n                name: httpd\n                state: started\n")),(0,t.kt)("h3",{id:"lineinfile"},"lineinfile"),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("a",{parentName:"p",href:"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html"},"lineinfile")," \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432 \u0444\u0430\u0439\u043b\u0435 \u0438 \u0435\u0435 \u0437\u0430\u043c\u0435\u043d\u044b \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u0435\u0441\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0435\u0449\u0435 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442."),(0,t.kt)("p",null,"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u043c \u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 DNS-\u0441\u0435\u0440\u0432\u0435\u0440 \u0432 \u0444\u0430\u0439\u043b ",(0,t.kt)("inlineCode",{parentName:"p"},"/etc/resolv.conf"),". \u042d\u0442\u043e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 playbook Ansible \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u044f ",(0,t.kt)("inlineCode",{parentName:"p"},"lineinfile")," \u0432 tasks \u0434\u043e\u0431\u0430\u0432\u0438\u0442 \u043d\u043e\u0432\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043d\u0435\u0439\u043c\u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0432 \u0444\u0430\u0439\u043b ",(0,t.kt)("inlineCode",{parentName:"p"},"/etc/resolv.conf"),". \u041f\u043e\u043c\u043d\u0438, \u0447\u0442\u043e \u043c\u043e\u0434\u0443\u043b\u044c ",(0,t.kt)("inlineCode",{parentName:"p"},"lineinfile")," \u0438\u0434\u0435\u043c\u043f\u043e\u0442\u0435\u043d\u0442\u0435\u043d."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Execute a script on all web server nodes'\n    hosts: web_nodes\n    tasks:\n        -\n            name: Add string to the file\n            lineinfile:\n                path: /etc/resolv.conf \n                line: nameserver 10.1.250.10\n        -\n            name: 'Execute a script'\n            script: /tmp/install_script.sh\n        -\n            name: 'Start httpd service'\n            service:\n                name: httpd\n                state: present\n")),(0,t.kt)("h3",{id:"user"},"User"),(0,t.kt)("p",null,"\u041c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438."),(0,t.kt)("p",null,"\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Execute a script on all web server nodes and start httpd service'\n    hosts: web_nodes\n    tasks:\n        -\n            name: 'Update entry into /etc/resolv.conf'\n            lineinfile:\n                path: /etc/resolv.conf\n                line: 'nameserver 10.1.250.10'\n        -\n            name: 'Create user'\n            user:\n                name: web_user\n                uid: 1040\n                group: developers\n")),(0,t.kt)("h2",{id:"variables"},"Variables"),(0,t.kt)("p",null,"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u043b\u0438 \u043d\u0430\u0431\u043e\u0440\u043e\u0432\n\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432."),(0,t.kt)("h3",{id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0438\u0437-inventory"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0438\u0437 inventory"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Update nameserver entry into resolv.conf file on localhost'\n    hosts: localhost\n    tasks:\n        -\n            name: 'Update nameserver entry into resolv.conf file'\n            lineinfile:\n                path: /etc/resolv.conf\n                line: 'nameserver {{nameserver_ip}}'\n")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-ini"},"# Sample Inventory File\n\nlocalhost ansible_connection=localhost nameserver_ip=10.1.250.10\n")),(0,t.kt)("h3",{id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0432-playbook"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0432 playbook"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Update nameserver entry into resolv.conf file on localhost'\n    hosts: localhost\n    vars:\n        car_model: BMW M3\n        country_name: USA\n        title: Systems Engineer\n    tasks:\n        -\n            name: 'Print my car model'\n            command: 'echo \"My car''s model is {{car_model}}\"'\n        -\n            name: 'Print my country'\n            command: 'echo \"I live in the {{country_name}}\"'\n        -\n            name: 'Print my title'\n            command: 'echo \"I work as a {{title}}\"'\n")),(0,t.kt)("h3",{id:"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435-\u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445-\u0447\u0435\u0440\u0435\u0437-\u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439-\u0444\u0430\u0439\u043b"},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u0430\u0439\u043b"),(0,t.kt)("p",null,"variables-web.yml:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"http_port: 8081\nsnmp_port: 161-162\ninter_ip_range: 192.0.2.0\n")),(0,t.kt)("p",null,"playbook.yml:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n   name: Set firewall configurations\n   hosts: web\n   tasks:\n      - firewallid:\n         service: https\n         permanent: true\n         state: enabled\n      - firewallid:\n         port: '{{ http_port }}'\n         permanent: true\n         state: disabled\n      - firewallid:\n         port: '{{ snmp_port }}'/udp\n         permanent: true\n         state: disabled\n      - firewallid:\n         port: '{{ inter_ip_range }}'/24\n         permanent: true\n         state: enabled\n   vars_files:\n      - variables-web.yml\n")),(0,t.kt)("h2",{id:"\u043c\u0435\u0445\u0430\u043d\u0438\u043a\u0430-ansible"},"\u041c\u0435\u0445\u0430\u043d\u0438\u043a\u0430 Ansible"),(0,t.kt)("h3",{id:"conditionals"},"Conditionals"),(0,t.kt)("p",null,"\u0423\u0441\u043b\u043e\u0432\u0438\u044f (conditionals) \u043f\u043e\u0445\u043e\u0436\u0438 \u043d\u0430 \u0443\u0441\u043b\u043e\u0432\u043d\u044b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0432 \u044f\u0437\u044b\u043a\u0430\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0442 \u043d\u0430\u043c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443 \u0432 \u0441\u0432\u043e\u0438\u0445 playbooks."),(0,t.kt)("h4",{id:"when"},"When"),(0,t.kt)("p",null,"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c task \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 ansible_host \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Execute a script on all web server nodes'\n    hosts: all_servers\n    tasks:\n        -\n            service: 'name=mysql state=started'\n            when: ansible_host == \"server4.company.com\"\n")),(0,t.kt)("p",null,"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0443\u0441\u043b\u043e\u0432\u0438\u044f when, \u0447\u0442\u043e\u0431\u044b \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 age \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b\u0441\u044f \u043d\u0443\u0436\u043d\u044b\u0439 task:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Am I an Adult or a Child?'\n    hosts: localhost\n    vars:\n        age: 25\n    tasks:\n        -\n            command: 'echo \"I am a Child\"'\n            when: age < 18\n        -\n            command: 'echo \"I am an Adult\"'\n            when: age >= 18\n")),(0,t.kt)("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0435\u0441\u0442\u044c \u043b\u0438 \u0432 \u0444\u0430\u0439\u043b\u0435 IP-\u0430\u0434\u0440\u0435\u0441, \u0438 \u0435\u0441\u043b\u0438 \u0435\u0433\u043e \u043d\u0435\u0442 - \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u0444\u0430\u0439\u043b:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Add name server entry if not already entered'\n    hosts: localhost\n    tasks:\n        -\n            shell: 'cat /etc/resolv.conf'\n            register: command_output\n        -\n            shell: 'echo \"nameserver 10.0.250.10\" >> /etc/resolv.conf'\n            when: command_output.stdout.find('10.0.250.10') == -1\n")),(0,t.kt)("h4",{id:"loops"},"Loops"),(0,t.kt)("p",null,"Loop - \u044d\u0442\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0430 \u0446\u0438\u043a\u043b\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0437\u0430\u0434\u0430\u0447\u0443 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437."),(0,t.kt)("p",null,"\u041f\u0440\u0438\u043c\u0435\u043d\u0438 \u0446\u0438\u043a\u043b (\u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432\u0443 with_items) \u0432 \u044d\u0442\u043e\u043c task, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u043b\u0438\u0441\u044c \u0432\u0441\u0435 \u0444\u0440\u0443\u043a\u0442\u044b \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 fruits:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Print list of fruits'\n    hosts: localhost\n    vars:\n        fruits:\n            - Apple\n            - Banana\n            - Grapes\n            - Orange\n    tasks:\n        -\n            command: 'echo \"{{item}}\"'\n            with_items:\n                \"{{fruits}}\"\n")),(0,t.kt)("p",null,"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u0438 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-yml"},"-\n    name: 'Install required packages'\n    hosts: localhost\n    vars:\n        packages:\n            - httpd\n            - binutils\n            - glibc\n            - ksh\n            - libaio\n            - libXext\n            - gcc\n            - make\n            - sysstat\n            - unixODBC\n            - mongodb\n            - nodejs\n            - grunt\n    tasks:\n        -\n            yum: 'name={{item}} state=present'\n            with_items: \n                '{{packages}}'\n")))}d.isMDXComponent=!0}}]);